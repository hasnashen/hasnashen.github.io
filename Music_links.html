<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Favourite Music</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Epunda+Slab:ital,wght@0,300..900;1,300..900&family=Noto+Sans+SC:wght@100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <style>
        body {
            background-image: url('sanrio1106.4.jpg'); 
            background-repeat: no-repeat; 
            background-size: cover; 
            background-attachment: fixed; 
        }
    </style>

</head>
<body>
    <a href="home.html">Home Page</a>
    <a href="Hobby_links.html">Hobbies Page</a>
    <h1>My favourite Music</h1>
    <p>This page will lets you to listen to my favourite music.</p>


        <ul>
            <li>Flower Dance - Dj Okawari</li>
                <audio controls src="Dj_Okawari_-_Flower_Dance_feat_Tabeyellow_(mp3.pm).mp3">Flower Dance</audio>

            <li>Love Dive - IVE</li>
                <audio controls src="IVE_-_LOVE_DIVE_(mp3.pm).mp3">Love dive</audio>

            <li>Dreams come true - aespa</li>
                <audio controls src="aespa_-_Dreams_Come_True_(mp3.pm).mp3">Dreams come true</audio>

            <li>Spark - Winter</li>
                <audio controls src="WINTER_-_Spark_WINTER_Solo_(mp3.pm).mp3">Spark</audio>

            <li>Like Jennie - Jennie</li>
                <audio controls src="JENNIE_-_like_JENNIE_(mp3.pm).mp3">Like Jennie</audio>

            <li>Spicy - aespa</li>
                <audio controls src="aespa_-_Spicy_(mp3.pm).mp3">Spicy</audio>

            <li>Welcome to my world - aespa</li>
                <audio controls src="aespa_feat._n_vis_-_Welcome_To_MY_World_feat._n_vis_(mp3.pm).mp3">Welcome to my world</audio>

            <li>Live my life - aespa</li>
                <audio controls src="aespa_-_Live_My_Life_(mp3.pm).mp3">Live my life</audio>

            <li>Merry Christmas Mr. Lawrence - Ryuichi Sakamoto</li>
                <audio controls src="-_Merry_Christmas_Mr.Lawrence_(mp3.pm).mp3">Merry Christmas Mr. Lawrence</audio>

            <li>하루하루(Haru Haru) - Bigbang</li>
                <audio controls src="BIGBANG_-_HaruHaru_(mp3.pm).mp3">하루하루(Haru Haru)</audio>

            <li>imaginary friend - ITZY</li>
                <audio controls src="ITZY_-_Imaginary_Friend_(mp3.pm).mp3">imaginary friend</audio>

            <li>潮鳴り</li>
                <audio controls src="7947.mp3">潮鸣り</audio>

            <li>我还想她 - JJLin </li>
                <audio controls src="JJLin_-_(mp3.pm).mp3">我还想她</audio>
        </ul>


    <audio id="bgMusic" loop></audio>

    <script>
        const songNumber = localStorage.getItem("music");
        const bgMusic = document.getElementById('bgMusic');
        

        if (songNumber === "1") bgMusic.src = "Dj_Okawari_-_Flower_Dance_feat_Tabeyellow_(mp3.pm).mp3";
        if (songNumber === "2") bgMusic.src = "7947.mp3";
        if (songNumber === "3") bgMusic.src = "Tsuki_s_Odyssey_-_Forest_Mixtape_(mp3.pm).mp3";
        if (songNumber === "4") bgMusic.src = "aespa_-_Melody_(mp3.pm).mp3";
        
        bgMusic.loop = true;  // 循环播放
        

        const savedTime = localStorage.getItem("musicTime");
        if (savedTime) {
            bgMusic.currentTime = Number(savedTime);
        }
        

        bgMusic.play();
        
        setInterval(function() {
            localStorage.setItem("musicTime", bgMusic.currentTime);
        }, 1000);

        window.addEventListener('beforeunload', function() {
        // 离开页面时保存音乐状态
        localStorage.setItem("musicPlaying", !bgMusic.paused);
        });

        // 在分页面加载时检查并恢复播放
        window.addEventListener('load', function() {
            const shouldPlay = localStorage.getItem("musicPlaying") === "true";
            if (shouldPlay && bgMusic.paused) {
            bgMusic.play();
        }
    });
    </script>


    </body>

</html>